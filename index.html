<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polat Kuyumculuk | Canlı Fiyat Paneli</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #d4af37;
            --dark-bg: #121212;
            --text-color: #e0e0e0;
        }

        body {
            background-color: var(--dark-bg);
            color: var(--text-color);
            font-family: 'Montserrat', sans-serif;
            margin: 0; padding: 0;
            display: flex; flex-direction: column; align-items: center;
        }

        header {
            width: 100%; text-align: center; padding: 30px 0;
            background: linear-gradient(to bottom, #1d1d1d, #121212);
            border-bottom: 2px solid var(--gold);
        }

        .logo-text {
            font-family: 'Playfair Display', serif;
            font-size: 2.8rem; color: var(--gold);
            margin: 0; letter-spacing: 4px;
        }

        .container { width: 95%; max-width: 1200px; margin: 20px auto; }

        .price-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 20px;
        }

        @media (max-width: 900px) { .price-grid { grid-template-columns: 1fr; } }

        table {
            width: 100%; border-collapse: collapse;
            background: #1a1a1a; border-radius: 8px; overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        th { background-color: #ce9e0c; color: #000; padding: 15px; text-transform: uppercase; }
        td { padding: 18px 15px; border-bottom: 1px solid #2d2d2d; font-weight: 600; }

        .name-cell { color: var(--gold); }
        .price-cell { text-align: right; font-family: 'Courier New', monospace; font-size: 1.2rem; }

        /* Canlı Değişim Renkleri */
        .up { color: #2ecc71 !important; }
        .down { color: #e74c3c !important; }
    </style>
</head>
<body>

<header>
    <div class="logo-text">POLAT KUYUMCULUK</div>
    <div id="clock" style="color: var(--gold); margin-top: 10px; font-weight: bold;">Yükleniyor...</div>
</header>

<div class="container">
    <div class="price-grid">
        <table>
            <thead>
                <tr>
                    <th align="left">ALTIN CİNSİ</th>
                    <th align="right">ALIŞ</th>
                    <th align="right">SATIŞ</th>
                </tr>
            </thead>
            <tbody id="live-gold-left">
                <tr><td colspan="3" align="center">Veriler piyasadan çekiliyor...</td></tr>
            </tbody>
        </table>

        <table>
            <thead>
                <tr>
                    <th align="left">DÖVİZ / DİĞER</th>
                    <th align="right">ALIŞ</th>
                    <th align="right">SATIŞ</th>
                </tr>
            </thead>
            <tbody id="live-gold-right">
                </tbody>
        </table>
    </div>
</div>

<script>
    let oldPrices = {};

    async function updatePrices() {
        try {
            // Canlı verileri sağlayan dış kaynak (JSON)
            const res = await fetch('https://finans.truncgil.com/today.json');
            const data = await res.json();

            // Sol tarafta görünmesini istediğin altın kalemleri
            const leftList = [
                { label: "HAS ALTIN", key: "Gram Altın" },
                { label: "24 AYAR GRAM", key: "Gram Altın" },
                { label: "22 AYAR BİLEZİK", key: "22 Ayar Bilezik" },
                { label: "YENİ ÇEYREK", key: "Çeyrek Altın" },
                { label: "ESKİ ÇEYREK", key: "Çeyrek Altın" }
            ];

            // Sağ tarafta görünmesini istediğin kalemler
            const rightList = [
                { label: "YENİ TAM", key: "Tam Altın" },
                { label: "ATA CUMHURİYET", key: "Cumhuriyet Altını" },
                { label: "USD - DOLAR", key: "USD" },
                { label: "EUR - EURO", key: "EUR" }
            ];

            fillTable("live-gold-left", leftList, data);
            fillTable("live-gold-right", rightList, data);

        } catch (err) {
            console.error("Veri alınamadı, internetini kontrol et.");
        }
    }

    function fillTable(id, list, apiData) {
        let html = "";
        list.forEach(item => {
            const row = apiData[item.key];
            if (!row) return;

            const buy = row.Alış;
            const sell = row.Satış;
            
            // Yükseliş - Düşüş kontrolü
            let trendClass = "";
            let icon = "";
            const currentNum = parseFloat(sell.replace('.','').replace(',','.'));
            
            if (oldPrices[item.label]) {
                if (currentNum > oldPrices[item.label]) { trendClass = "up"; icon = " ▲"; }
                else if (currentNum < oldPrices[item.label]) { trendClass = "down"; icon = " ▼"; }
            }
            oldPrices[item.label] = currentNum;

            html += `<tr>
                <td class="name-cell">${item.label}</td>
                <td class="price-cell">${buy}</td>
                <td class="price-cell ${trendClass}">${sell}${icon}</td>
            </tr>`;
        });
        document.getElementById(id).innerHTML = html;
    }

    function tick() {
        const now = new Date();
        document.getElementById('clock').innerText = now.toLocaleDateString('tr-TR') + " - " + now.toLocaleTimeString('tr-TR');
    }

    // 10 saniyede bir verileri tazele
    setInterval(updatePrices, 10000);
    setInterval(tick, 1000);
    updatePrices();
    tick();
</script>

</body>
</html>